<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link rel="stylesheet" href="../styles/common.css">
    <link rel="stylesheet" href="../styles/contact.css">
</head>
<body>
    <div class="background">
        <!-- Light Source for Background -->
        <div class="light"></div>
        
        <!-- Menu Toolbar -->
        <div class="toolbar">
            <!-- Toggle Icon -->
            <button id="toggle-menu" class="toolbar-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <!-- Toolbar Icons -->
            <div class="toolbar-items" id="toolbar-items">
                <!-- Home Icon -->
                <div class="toolbar-item">
                    <a href="../index.html" class="toolbar-item" data-tooltip="Home">
                        <img src="../icons/home.png" alt="Home" />
                    </a>
                </div>
                <!-- Works Icon -->
                <div class="toolbar-item">
                    <a href="../html/works.html" class="toolbar-item" data-tooltip="Works">
                        <img src="../icons/work.png" alt="Works" />
                    </a>
                </div>
                <!-- Publications Icon -->
                <div class="toolbar-item">
                    <a href="../html/pubs.html" class="toolbar-item" data-tooltip="Publications">
                        <img src="../icons/pub.png" alt="Publications" />
                    </a>
                </div>
                <!-- Contact Icon -->
                <div class="toolbar-item">
                    <a href="../html/contact.html" class="toolbar-item" data-tooltip="Contact">
                        <img src="../icons/contact.png" alt="Contact" />
                    </a>
                </div>
                <!-- CV Icon -->
                <div class="toolbar-item">
                    <a href="../html/cv.html" class="toolbar-item" data-tooltip="CV">
                        <img src="../icons/cv.png" alt="CV" />
                    </a>
                </div>
            </div>
        </div>

        <!-- Contact Toolbar -->
        <div id="contact-menu-container">
            <!-- Contact Toggle Button -->
            <button id="toggle-contact" class="menu-button">
                <img src="../icons/phone.png" alt="Phone" />
            </button>
            <div id="contact-menu" class="contact-menu">
                <!-- Triangle for Toggle -->
                <div id="toggle-triangle"></div>
                <!-- Email Icon -->
                <a href="mailto:sadeqalisaac@gmail.com" class="contact-item" data-tooltip="Email">
                    <img src="../icons/email.png" alt="Email" />
                </a>
                <!-- LinkedIn Icon -->
                <a href="https://www.linkedin.com/in/mohammed-sadeq-aleisac" target="_blank" class="contact-item" data-tooltip="LinkedIn">
                    <img src="../icons/linkedin.png" alt="LinkedIn" />
                </a>
                <!-- Google Scholar Icon -->
                <a href="https://scholar.google.com/citations?user=FClYx9AAAAAJ&hl=en" target="_blank" class="contact-item" data-tooltip="Google Scholar">
                    <img src="../icons/scholar.png" alt="Google Scholar" />
                </a>
                <!-- Portal Cientifico UPM Icon -->
                <a href="https://portalcientifico.upm.es/es/ipublic/researcher/335374" target="_blank" class="contact-item" data-tooltip="Portal Cientifico UPM">
                    <img src="../icons/uni.png" alt="Portal Cientifico UPM" />
                </a>
                <!-- ORCID Icon -->
                <a href="https://orcid.org/0000-0001-8773-7184" target="_blank" class="contact-item" data-tooltip="ORCID">
                    <img src="../icons/orcid.png" alt="ORCID" />
                </a>
                <!-- GitHub Icon -->
                <a href="https://github.com/sadeqal" target="_blank" class="contact-item" data-tooltip="GitHub">
                    <img src="../icons/github.png" alt="GitHub" />
                </a>
                <!-- X (Twitter) Icon -->
                <a href="https://x.com/SadeqAlisaac" target="_blank" class="contact-item" data-tooltip="X (Twitter)">
                    <img src="../icons/x.png" alt="X (Twitter)" />
                </a>
                <!-- Instagram Icon -->
                <a href="https://www.instagram.com/sadeq.al.calligraphy" target="_blank" class="contact-item" data-tooltip="Instagram">
                    <img src="../icons/instagram.png" alt="Instagram" />
                </a>
            </div>
        </div>

        <!-- Contact page content -->
        <div class="content">
            <h2>Contact</h2>
            <p class="encouraging-message">
                xxx
            </p>

            <style>
                /* Hover effect for the icons */
                .social-icon:hover {
                    background-color: transparent; /* Makes the black part disappear */
                    transform: scale(1.05);
                    box-shadow: 0 0 25px 10px magenta;
                }
            </style>
            
            <!-- Contact form -->
            <div class="contact-form">
                <!-- Contact Form -->
                <form action="mailto:sadeqalisaac@gmail.com" method="post" enctype="text/plain">
                    <!-- Subject Field -->
                    <label for="subject">Subject:</label>
                    <input type="text" id="subject" name="subject" required>
                    <br><br>
        
                    <!-- Message Field -->
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" rows="4" required></textarea>
                    <br><br>
        
                    <!-- Send Button -->
                    <button type="submit">Send</button>
                </form>
            </div>
        </div>

        <!-- Session Content -->
        <div class="content">
            <h2>Book a Session</h2>
            <p class="encouraging-message">
                xxx
            </p>        

            <!-- Session Form Container -->
            <div class="session-form">
                <!-- Date Picker -->
                <label for="session-date">Select a Date:</label>
                <input type="date" id="session-date" name="session-date" required>
                <br><br>

                <!-- Time Picker -->
                <label for="session-time">Select a Time:</label>
                <select id="session-time" name="session-time" required>
                    <option value="" disabled selected>Select a time</option>
                    <option value="09:00">9:00 AM</option>
                    <option value="10:00">10:00 AM</option>
                    <option value="11:00">11:00 AM</option>
                    <option value="12:00">12:00 PM</option>
                    <option value="14:00">2:00 PM</option>
                    <option value="15:00">3:00 PM</option>
                    <option value="16:00">4:00 PM</option>
                    <option value="17:00">5:00 PM</option>
                </select>
                <br><br>

                <!-- Done Button -->
                <button id="done-button">Done!</button>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <!-- Menu, Contact, and Background -->
    <script src="../scripts/menu.js"></script>
    <script src="../scripts/contact.js"></script>
    <script src="../scripts/background.js"></script>

    <!-- Import Awesome and Google Fonts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <!-- Emial JS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <script>
        // Initialize EmailJS
        emailjs.init('YOUR_USER_ID'); // Replace with your EmailJS user ID

        document.getElementById('done-button').addEventListener('click', () => {
            const date = document.getElementById('session-date').value;
            const time = document.getElementById('session-time').value;

            if (!date || !time) {
                alert('Please select both a date and a time.');
                return;
            }

            const emailParams = {
                to_email: 'sadeqalisaac@gmail.com',
                date: date,
                time: time,
            };

            emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', emailParams)
                .then(() => {
                    alert('Session booked! Confirmation email sent.');
                })
                .catch((error) => {
                    console.error('Failed to send email:', error);
                    alert('Something went wrong, please try again.');
                });
        });
    </script>

    <script>
        document.getElementById('done-button').addEventListener('click', () => {
            const date = document.getElementById('session-date').value;
            const time = document.getElementById('session-time').value;

            if (!date || !time) {
                alert('Elige una fecha y horario, cabr√≥n!.');
                return;
            }

            const email = 'sadeqalisaac@gmail.com';
            const subject = encodeURIComponent('Booking a Session');
            const body = encodeURIComponent(`Hi,\n\nI would like to book a session on:\n\nDate: ${date}\nTime: ${time}\n\nThank you.`);
            const mailtoLink = `mailto:${email}?subject=${subject}&body=${body}`;

            window.location.href = mailtoLink;
        });
    </script>
</body>
</html>
